<template>
    <div class="page">
        <div class="navbar">
            <div class="navbar-inner sliding">
                <div class="left">
                    <a href="#" class="link back">
                        <i class="icon icon-back"></i>
                        <span class="ios-only">Back</span>
                    </a>
                </div>
                <div class="title">Vehicle Bookings Page</div>
                <div class="subnavbar">
                    <form class="searchbar" id="searchbar-autocomplete">
                        <div class="searchbar-inner">
                            <div class="searchbar-input-wrap">
                                <input type="search" placeholder="Search"/>
                                <i class="searchbar-icon"></i>
                                <span class="input-clear-button"></span>
                            </div>
                            <span class="searchbar-disable-button">Cancel</span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="page-content">

            <div class="list no-hairlines-md">
                <div class="block-header">Dropdown With All Values</div>
                <ul>
                    <li class="item-content item-input">
                        <div class="item-inner">
                            <div class="item-title item-label">Fruit</div>
                            <div class="item-input-wrap">
                                <input type="text" placeholder="Fruit" id="autocomplete-dropdown-all"/>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</template>
<script>

    var $ = this.$;

    // var app = this.$app;
    var $$ = Dom7;

    // var mainView = app.views.create('.view-main');


    // app found no need to  do this var app = this.$app;
    // console.log("app: ");
    // console.log(app);

    // var mainView = app.views.create('.view-main');

    $(document).ready(function () {
        console.log("ready at vehiclebooking!!!!");
    });


    // A $( document ).ready() block.

    // $(document).ready(function () {
    //     console.log("ready at index.html!");
    // });

    // noinspection JSAnnotator

    // var $ = this.$;

    // no need requres when accessing html pages in ./pages section.
    // var app = this.$app;
    //var app = new Framework7();


    // var $$ = Dom7;

    // console.log("app.data: ");
    // console.log(app.data);


    // Fruits data demo array
    var fruits = ('Apple Apricot Avocado Banana Melon Orange Peach Pear Pineapple').split(' ');


    // function loadDestination() {
    //
    //     console.log("at loadDestination ")

    app.on('pageInit', function (page) {

        console.log("self: ");

        var self = this;
        // var app = self.$app;
        // var fruits = self.fruits;
        // var $ = self.$;

        // Dropdown with all values

        self.autocompleteDropdownAll = app.autocomplete.create({
            inputEl: '#autocomplete-dropdown-all',
            openIn: 'dropdown',
            source: function (query, render) {
                var results = [];
                // Find matched items
                for (var i = 0; i < fruits.length; i++) {
                    if (fruits[i].toLowerCase().indexOf(query.toLowerCase()) >= 0) results.push(fruits[i]);
                }
                // Render items by passing array with result items
                render(results);


                console.log(results);
            }
        });


    });

    app.on('pageBeforeRemove', function (page) {


        var self = this;
        // Destroy all autocompletes
        self.autocompleteDropdownAll.destroy();
    });


</script>